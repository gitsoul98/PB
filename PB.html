<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Prerana's Birthday Roast ğŸ˜</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg1:#fff0f6;
      --bg2:#ffe6f0;
      --accent:#ff77b7;
      --deep:#4f114f;
      --card:#ffffffaa;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:'Poppins',sans-serif;background:linear-gradient(135deg,var(--bg1),var(--bg2));color:var(--deep);overflow-x:hidden}

    /* Intro */
    .intro{
      width:100%;min-height:100vh;display:flex;align-items:center;justify-content:center;flex-direction:column;padding:40px;position:relative;
    }
    .logo-emoji{font-size:64px;filter:drop-shadow(0 8px 20px rgba(0,0,0,0.12));}
    .title{
      font-size:44px;margin:10px 0;letter-spacing:1px;text-align:center;
      animation:popIn 800ms ease-out both;
    }
    .subtitle{font-size:18px;opacity:0.9;margin-bottom:18px}
    .enter-btn{background:linear-gradient(90deg,var(--accent),#ffb3d1);border:none;padding:12px 22px;border-radius:30px;color:white;font-weight:700;cursor:pointer;box-shadow:0 8px 24px rgba(255,119,183,0.25);}
    .enter-btn:active{transform:translateY(1px)}

    @keyframes popIn{from{transform:translateY(20px) scale(.98);opacity:0}to{transform:none;opacity:1}}

    /* floating tiny elephants */
    .elephant-bubble{position:absolute;pointer-events:none;opacity:0.95}
    @keyframes floaty{0%{transform:translateY(0) rotate(-6deg)}50%{transform:translateY(-24px) rotate(6deg)}100%{transform:translateY(0) rotate(-6deg)}}

    /* Gallery */
    .container{max-width:1100px;margin:30px auto;padding:20px}
    .controls{display:flex;gap:12px;align-items:center;justify-content:space-between}
    .left-controls{display:flex;gap:10px;align-items:center}
    .music-toggle{display:flex;gap:8px;align-items:center}
    .music-toggle button{background:transparent;border:2px solid var(--accent);padding:8px 12px;border-radius:999px;cursor:pointer;font-weight:600}

    .gallery{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:20px;margin-top:18px}
    .card{background:var(--card);border-radius:18px;overflow:hidden;box-shadow:0 18px 40px rgba(79,17,79,0.08);transform:translateY(8px);transition:transform .35s,box-shadow .35s;position:relative}
    .card:hover{transform:translateY(0);box-shadow:0 28px 60px rgba(79,17,79,0.12)}
    .card img{width:100%;height:260px;object-fit:cover;display:block}
    .caption{padding:14px;text-align:center;font-weight:600}
    .roast{color:var(--deep);font-size:15px;line-height:1.2}
    .tiny-emoji{position:absolute;right:12px;top:12px;font-size:20px;opacity:0.95}

    /* pagination */
    .pager{display:flex;gap:10px;align-items:center;justify-content:center;margin:20px 0}
    .pager button{padding:10px 16px;border-radius:999px;border:none;background:#fff;color:var(--accent);cursor:pointer;font-weight:700;box-shadow:0 8px 20px rgba(0,0,0,0.06)}

    /* confetti canvas covers */
    #confetti, #fireworks{position:fixed;left:0;top:0;pointer-events:none;width:100%;height:100%;z-index:9999}

    /* final message */
    .final-card{max-width:800px;margin:40px auto;background:linear-gradient(180deg,#fff,#fff0);padding:26px;border-radius:18px;text-align:center;box-shadow:0 20px 60px rgba(79,17,79,0.06)}
    .final-card h2{margin:6px 0 10px}
    .apology{opacity:0.95;color:var(--deep)}

    /* responsive */
    @media (max-width:600px){.title{font-size:28px}.card img{height:200px}}
  </style>
</head>
<body>
  <!-- Floating elephants -> multiple clones created by JS for max disrespect -->

  <div class="intro" id="intro">
    <div class="logo-emoji">ğŸ˜</div>
    <div class="title">Pà·´Rà·´Eà·´Rà·´Aà·´Nà·´Aà·´ <span style="font-size:28px">ğŸ˜</span></div>
    <div class="subtitle">á•¼á—©á‘­á‘­Y á—·Iá–‡Tá•¼á—ªá—©Y! ğŸ‰! (Console.WriteLine("ğ“–ğ“®ğ“½ ğ“¡ğ“®ğ“ªğ“­ğ”‚ ğ“£ğ“¸ ğ“¡ğ“¸ğ“ªğ“¼ğ“½"))</div>
    <button class="enter-btn" id="enter">Enter Roast Zone</button>
  </div>

  <div class="container hidden" id="app">
    <div class="controls">
      <div class="left-controls">
        <div style="font-weight:700;font-size:18px">Prerana's Roast Gallery</div>
        <div style="margin-left:10px;color:#8b5a7b">(7 painful memories)</div>
      </div>
      <div class="music-toggle">
        <button id="playBtn">Play Music</button>
        <button id="muteBtn">Mute</button>
        <button id="confettiBtn">Confetti</button>
      </div>
    </div>

    <div class="gallery" id="gallery"></div>

    <div class="pager">
      <button id="prev">â¬… Prev</button>
      <div id="pageInfo" style="align-self:center;font-weight:700;color:#8b5a7b"></div>
      <button id="next">Next â¡</button>
    </div>

    <div class="final-card" id="finalCard">
      <h2>Okay, enough. A tiny truce.</h2>
      <p class="apology">ğ»ğ’¶ğ“…ğ“…ğ“ ğµğ’¾ğ“‡ğ“‰ğ’½ğ’¹ğ’¶ğ“! ğŸ‰
ğ¼ ğ’½ğ‘œğ“…ğ‘’ ğ“‰ğ’½ğ’¾ğ“ˆ ğ“ğ‘’ğ’¶ğ“‡ ğ’·ğ“‡ğ’¾ğ“ƒğ‘”ğ“ˆ ğ“ğ‘œğ“Š ğ’½ğ’¶ğ“…ğ“…ğ’¾ğ“ƒğ‘’ğ“ˆğ“ˆ, ğ‘”ğ‘œğ‘œğ’¹ ğ“‚ğ‘’ğ“‚ğ‘œğ“‡ğ’¾ğ‘’ğ“ˆ, ğ’¶ğ“ƒğ’¹ ğ‘’ğ“‹ğ‘’ğ“‡ğ“ğ“‰ğ’½ğ’¾ğ“ƒğ‘” ğ“ğ‘œğ“Šâ€™ğ“‹ğ‘’ ğ’·ğ‘’ğ‘’ğ“ƒ ğ’½ğ‘œğ“…ğ’¾ğ“ƒğ‘” ğ’»ğ‘œğ“‡.
ğ’¯ğ’½ğ’¶ğ“ƒğ“€ğ“ˆ ğ’»ğ‘œğ“‡ ğ’·ğ‘’ğ’¾ğ“ƒğ‘” ğ“ˆğ“Šğ’¸ğ’½ ğ’¶ ğ‘”ğ‘œğ‘œğ’¹ ğ’»ğ“‡ğ’¾ğ‘’ğ“ƒğ’¹ â€” ğ¼â€™ğ“‚ ğ“‡ğ‘’ğ’¶ğ“ğ“ğ“ ğ‘”ğ“ğ’¶ğ’¹ ğ“ğ‘œğ“Š ğ‘’ğ“ğ’¾ğ“ˆğ“‰ ğ’¾ğ“ƒ ğ“‚ğ“ ğ“ğ’¾ğ’»ğ‘’.
ğ¸ğ“ƒğ’¿ğ‘œğ“ ğ“ğ‘œğ“Šğ“‡ ğ’¹ğ’¶ğ“, ğ’¸ğ‘’ğ“ğ‘’ğ’·ğ“‡ğ’¶ğ“‰ğ‘’ ğ“…ğ“‡ğ‘œğ“…ğ‘’ğ“‡ğ“ğ“, ğ’¶ğ“ƒğ’¹ ğ“‚ğ’¶ğ“ ğ“‰ğ’½ğ‘’ ğ“ğ‘’ğ’¶ğ“‡ ğ’¶ğ’½ğ‘’ğ’¶ğ’¹ ğ’·ğ‘’ ğ‘’ğ“‹ğ‘’ğ“ƒ ğ’·ğ‘’ğ“‰ğ“‰ğ‘’ğ“‡ ğ“‰ğ’½ğ’¶ğ“ƒ ğ“‰ğ’½ğ‘’ ğ“ğ’¶ğ“ˆğ“‰. ğŸ’›</p>
      <div style="margin-top:18px">ğŸ‚ ğŸ˜ â¤ï¸</div>
    </div>
  </div>

  <canvas id="confetti"></canvas>
  <canvas id="fireworks"></canvas>

  <!-- Audio (user should place lofi.mp3 in same folder). Autoplay muted initially to avoid browser blocks -->
  <audio id="bgMusic" loop preload="auto">
    <source src="lofi.mp3" type="audio/mpeg">
    <!-- If you don't have a file, browser will ignore -->
  </audio>

  <script>
    // Images and roast captions (sarcastic + dumb-friend mix)
    const images = [
      {src:'img1.jpg', roast:"Wow, another year older. Still no brain update though. Cute."},
      {src:'img2.jpg', roast:"Talking to you feels like using 1% brain battery."},
      {src:'img3.jpg', roast:"Happy birthday. I hope this year you finally stop making decisions that make everyone question your intelligence.."},
      {src:'img4.jpg', roast:"You're basically a human version of low battery mode."},
      {src:'img5.jpg', roast:"If chaos had a face, it would be you on a Sunday morning."},
      {src:'img6.jpg', roast:"Iâ€™m not saying youâ€™re slowâ€¦But if there was a race between you, a sloth, and a dead batteryâ€”the battery would win."},
      {src:'img7.jpg', roast:"Anywayâ€¦Despite being a walking disappointment and a certified professional headache,you still exist in my life for reasons science cannot explain.So, happy birthday, you loud, chaotic, delusional elephant. ğŸ˜."}
    ];

    // Pagination
    let currentPage = 0; const perPage = 3; const totalPages = Math.ceil(images.length / perPage);

    const gallery = document.getElementById('gallery');
    const pageInfo = document.getElementById('pageInfo');

    function render(){
      gallery.innerHTML='';
      const start=currentPage*perPage; const end=start+perPage; const pageItems=images.slice(start,end);
      pageItems.forEach(it=>{
        const card=document.createElement('div');card.className='card';
        card.innerHTML=`<div class='tiny-emoji'>ğŸ˜</div><img src='${it.src}' alt='Prerana'><div class='caption'><div class='roast'>${it.roast}</div></div>`;
        gallery.appendChild(card);
      });
      pageInfo.textContent = `Page ${currentPage+1} of ${totalPages}`;
      // if final page, trigger small sparkle (no fireworks until user triggers)
      if(currentPage === totalPages-1){ triggerMiniSparkle(); }
    }

    document.getElementById('next').addEventListener('click',()=>{ if(currentPage<totalPages-1){currentPage++; render();} else {launchFireworks();}});
    document.getElementById('prev').addEventListener('click',()=>{ if(currentPage>0){currentPage--; render();}});

    // Enter button
    document.getElementById('enter').addEventListener('click',()=>{
      document.getElementById('intro').classList.add('hidden');
      document.getElementById('app').classList.remove('hidden');
      // create floating elephants
      makeElephants();
      render();
    });

    // Music controls
    const music=document.getElementById('bgMusic');
    const playBtn=document.getElementById('playBtn');
    const muteBtn=document.getElementById('muteBtn');
    playBtn.addEventListener('click',()=>{ music.play().catch(()=>{alert('If music didn\'t start automatically, please allow autoplay or click the play icon. Place lofi.mp3 in the same folder.')}); });
    muteBtn.addEventListener('click',()=>{ if(music.muted){music.muted=false; muteBtn.textContent='Mute'} else {music.muted=true; muteBtn.textContent='Unmute'}});

    // Confetti simple implementation
    const confettiCanvas = document.getElementById('confetti'); const cctx = confettiCanvas.getContext('2d');
    function resizeCanvas(){ confettiCanvas.width=window.innerWidth; confettiCanvas.height=window.innerHeight; fwCanvas.width=window.innerWidth; fwCanvas.height=window.innerHeight; }
    window.addEventListener('resize',resizeCanvas);
    resizeCanvas();

    // create confetti particles
    function popConfetti(){ const particles=[]; const colors=['#ff77b7','#ffd1ea','#fff1f6','#ffd6e9','#b38dbf']; for(let i=0;i<120;i++){ particles.push({x:Math.random()*confettiCanvas.width,y:Math.random()*confettiCanvas.height*0.2 + 50,vx:(Math.random()-0.5)*6,vy:Math.random()*6+2,sz:Math.random()*8+4,color:colors[Math.floor(Math.random()*colors.length)],tilt:Math.random()*0.2}); }
      let t=0; function tick(){ cctx.clearRect(0,0,confettiCanvas.width,confettiCanvas.height); particles.forEach(p=>{ p.x+=p.vx; p.y+=p.vy; p.vy+=0.05; p.tilt+=0.03; cctx.save(); cctx.translate(p.x,p.y); cctx.rotate(Math.sin(p.tilt)); cctx.fillStyle=p.color; cctx.fillRect(-p.sz/2,-p.sz/2,p.sz,p.sz); cctx.restore(); }); t++; if(t<150) requestAnimationFrame(tick); else cctx.clearRect(0,0,confettiCanvas.width,confettiCanvas.height); }
      tick();
    }

    document.getElementById('confettiBtn').addEventListener('click',()=>{ popConfetti(); });

    // fireworks canvas simple
    const fwCanvas = document.getElementById('fireworks'); const fwCtx = fwCanvas.getContext('2d'); fwCanvas.width=window.innerWidth; fwCanvas.height=window.innerHeight;
    function launchFireworks(){ // launch a few bursts
      const bursts=[]; for(let i=0;i<8;i++){ bursts.push({x:Math.random()*fwCanvas.width,y:Math.random()*fwCanvas.height*0.5 + 100,particles:[],color:`hsl(${Math.random()*360},80%,60%)`}); }
      bursts.forEach(b=>{ for(let i=0;i<50;i++){ const angle=Math.random()*Math.PI*2; const speed= Math.random()*5+1; b.particles.push({x:b.x,y:b.y,vx:Math.cos(angle)*speed,vy:Math.sin(angle)*speed,life:Math.random()*50+40}); } });
      let t=0; function loop(){ fwCtx.globalCompositeOperation='destination-out'; fwCtx.fillStyle='rgba(0,0,0,0.2)'; fwCtx.fillRect(0,0,fwCanvas.width,fwCanvas.height); fwCtx.globalCompositeOperation='lighter'; bursts.forEach(b=>{ b.particles.forEach(p=>{ p.x+=p.vx; p.y+=p.vy; p.vy+=0.06; p.life--; fwCtx.beginPath(); fwCtx.arc(p.x,p.y,Math.max(1,p.life/15),0,Math.PI*2); fwCtx.fillStyle=b.color; fwCtx.fill(); }); }); t++; if(t<220) requestAnimationFrame(loop); else fwCtx.clearRect(0,0,fwCanvas.width,fwCanvas.height); }
      loop();
    }

    // Mini sparkle hint when user reaches last page
    function triggerMiniSparkle(){ const hint=document.querySelector('.final-card'); hint.style.transform='translateY(-6px)'; hint.style.transition='transform .8s'; setTimeout(()=>{hint.style.transform='none'},900); }

    // Floating elephants generator
    function makeElephants(){ for(let i=0;i<12;i++){ const el=document.createElement('div'); el.className='elephant-bubble'; el.style.left=Math.random()*100+'%'; el.style.top=(Math.random()*80+5)+'%'; el.style.fontSize=(16+Math.random()*36)+'px'; el.style.opacity=0.15+Math.random()*0.9; el.style.animation=`floaty ${6+Math.random()*8}s ease-in-out ${Math.random()*3}s infinite`; el.textContent='ğŸ˜'; document.body.appendChild(el); }
    }

    // Simple preload check: if images missing, show placeholders
    function ensureImages(){ const imgs=document.querySelectorAll('.card img'); imgs.forEach(img=>{ img.onerror = function(){ this.src = 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="600" height="400"><rect width="100%" height="100%" fill="%23ffe6f0"/><text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" font-family="Arial,Helvetica" font-size="22" fill="%238b5a7b">Place image file: '+encodeURIComponent(this.getAttribute('alt')||'image')+'.jpg</text></svg>' } }); }

    // small UI nicety: auto-run ensureImages after render
    const originalRender = render;
    function wrappedRender(){ originalRender(); ensureImages(); }

    // replace render reference
    render = wrappedRender;

    // initialize: hide app until entered
    document.getElementById('app').classList.add('hidden');

    // Auto-run a tiny intro elephant animation even before enter
    (function preElephants(){ for(let i=0;i<6;i++){ const el=document.createElement('div'); el.className='elephant-bubble'; el.style.left=(10+i*12)+'%'; el.style.top=(10 + Math.random()*12)+'%'; el.style.fontSize=(8+Math.random()*30)+'px'; el.style.opacity=0.06+Math.random()*0.3; el.style.animation=`floaty ${8+Math.random()*6}s ease-in-out ${Math.random()*2}s infinite`; el.textContent='ğŸ˜'; document.getElementById('intro').appendChild(el); } })();

    // Finally, ensure canvases sized
    resizeCanvas();

    // Helpful usage note appended to DOM (visible in source)
    console.log('Birthday roast site loaded. Place the following files in same folder: img1.jpg .. img7.jpg and lofi.mp3 for music.');
  </script>
</body>
</html>
